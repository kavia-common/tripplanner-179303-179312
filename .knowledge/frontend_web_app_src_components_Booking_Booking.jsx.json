{"is_source_file": true, "format": "JavaScript/JSX", "description": "React component implementing a booking flow page that manages trip details, room and meal options, validation, subtotal calculation, and draft persistence using hooks and localStorage.", "external_files": ["./Booking.css", "./RoomOptions", "./MealsOptions", "../../hooks/useTripPlan", "../../utils/router", "../Budget/BudgetPlans"], "external_methods": ["navigate", "useTripPlan"], "published": [], "classes": [], "methods": [{"name": "persistDraft", "description": "Saves the current form state as a draft into localStorage, updating tripMeta and optionally renaming the trip."}, {"name": "onFinish", "description": "Finalizes the booking, seeds activities if none exist, and navigates back to the main planner route."}, {"name": "onBack", "description": "Navigates back to the destinations selection page."}, {"name": "Booking({ scrollToBudget = false })", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["useTripPlan", "navigate", "window.localStorage.getItem", "window.localStorage.setItem", "JSON.parse", "JSON.stringify", "setTimeout", "clearTimeout"], "search-terms": ["Booking.jsx", "useTripPlan", "subtotal", "draft", "localStorage", "roomPricing", "MealOptions", "RoomOptions", "BudgetPlans", "validation"], "state": 2, "file_id": 41, "knowledge_revision": 135, "git_revision": "838ecdd6899225d3782037705ca0133569cbe99b", "revision_history": [{"123": ""}, {"129": "8b8a43729910dde3a7f3c2a4401af5852b9667be"}, {"130": "838ecdd6899225d3782037705ca0133569cbe99b"}, {"135": "838ecdd6899225d3782037705ca0133569cbe99b"}], "ctags": [{"_type": "tag", "name": "1", "path": "/home/kavia/workspace/code-generation/tripplanner-179303-179312/frontend_web_app/src/components/Booking/Booking.jsx", "pattern": "/^              min={1}$/", "language": "JavaScript", "kind": "field", "scope": "Booking.min", "scopeKind": "class"}, {"_type": "tag", "name": "8", "path": "/home/kavia/workspace/code-generation/tripplanner-179303-179312/frontend_web_app/src/components/Booking/Booking.jsx", "pattern": "/^              max={8}$/", "language": "JavaScript", "kind": "field", "scope": "Booking.max", "scopeKind": "class"}, {"_type": "tag", "name": "Booking", "path": "/home/kavia/workspace/code-generation/tripplanner-179303-179312/frontend_web_app/src/components/Booking/Booking.jsx", "pattern": "/^export default function Booking({ scrollToBudget = false }) {$/", "language": "JavaScript", "kind": "function", "signature": "({ scrollToBudget = false })"}, {"_type": "tag", "name": "breakfast", "path": "/home/kavia/workspace/code-generation/tripplanner-179303-179312/frontend_web_app/src/components/Booking/Booking.jsx", "pattern": "/^  const mealPricing = { breakfast: 12, lunch: 18, dinner: 26 };$/", "language": "JavaScript", "kind": "property", "scope": "Booking.mealPricing", "scopeKind": "class"}, {"_type": "tag", "name": "deluxe", "path": "/home/kavia/workspace/code-generation/tripplanner-179303-179312/frontend_web_app/src/components/Booking/Booking.jsx", "pattern": "/^  const roomCapacity = { standard: 2, deluxe: 3, suite: 4 };$/", "language": "JavaScript", "kind": "property", "scope": "Booking.roomCapacity", "scopeKind": "class"}, {"_type": "tag", "name": "dinner", "path": "/home/kavia/workspace/code-generation/tripplanner-179303-179312/frontend_web_app/src/components/Booking/Booking.jsx", "pattern": "/^  const mealPricing = { breakfast: 12, lunch: 18, dinner: 26 };$/", "language": "JavaScript", "kind": "property", "scope": "Booking.mealPricing", "scopeKind": "class"}, {"_type": "tag", "name": "hasErrors", "path": "/home/kavia/workspace/code-generation/tripplanner-179303-179312/frontend_web_app/src/components/Booking/Booking.jsx", "pattern": "/^              aria-disabled={hasErrors}$/", "language": "JavaScript", "kind": "field", "scope": "Booking.aria", "scopeKind": "class"}, {"_type": "tag", "name": "hasErrors", "path": "/home/kavia/workspace/code-generation/tripplanner-179303-179312/frontend_web_app/src/components/Booking/Booking.jsx", "pattern": "/^              disabled={hasErrors}$/", "language": "JavaScript", "kind": "field", "scope": "Booking.disabled", "scopeKind": "class"}, {"_type": "tag", "name": "hasErrors", "path": "/home/kavia/workspace/code-generation/tripplanner-179303-179312/frontend_web_app/src/components/Booking/Booking.jsx", "pattern": "/^              title={hasErrors ? 'Fix errors before finishing' : 'Finish and return to Planner'}$/", "language": "JavaScript", "kind": "field", "scope": "Booking.title", "scopeKind": "class"}, {"_type": "tag", "name": "lunch", "path": "/home/kavia/workspace/code-generation/tripplanner-179303-179312/frontend_web_app/src/components/Booking/Booking.jsx", "pattern": "/^  const mealPricing = { breakfast: 12, lunch: 18, dinner: 26 };$/", "language": "JavaScript", "kind": "property", "scope": "Booking.mealPricing", "scopeKind": "class"}, {"_type": "tag", "name": "mealPlan", "path": "/home/kavia/workspace/code-generation/tripplanner-179303-179312/frontend_web_app/src/components/Booking/Booking.jsx", "pattern": "/^            value={mealPlan}$/", "language": "JavaScript", "kind": "field", "scope": "Booking.value", "scopeKind": "class"}, {"_type": "tag", "name": "mealPricing", "path": "/home/kavia/workspace/code-generation/tripplanner-179303-179312/frontend_web_app/src/components/Booking/Booking.jsx", "pattern": "/^            pricing={mealPricing}$/", "language": "JavaScript", "kind": "field", "scope": "Booking.pricing", "scopeKind": "class"}, {"_type": "tag", "name": "mealPricing", "path": "/home/kavia/workspace/code-generation/tripplanner-179303-179312/frontend_web_app/src/components/Booking/Booking.jsx", "pattern": "/^  const mealPricing = { breakfast: 12, lunch: 18, dinner: 26 };$/", "language": "JavaScript", "kind": "class", "scope": "Booking", "scopeKind": "class"}, {"_type": "tag", "name": "nights", "path": "/home/kavia/workspace/code-generation/tripplanner-179303-179312/frontend_web_app/src/components/Booking/Booking.jsx", "pattern": "/^              value={nights}$/", "language": "JavaScript", "kind": "field", "scope": "Booking.value", "scopeKind": "class"}, {"_type": "tag", "name": "onFinish", "path": "/home/kavia/workspace/code-generation/tripplanner-179303-179312/frontend_web_app/src/components/Booking/Booking.jsx", "pattern": "/^              onClick={onFinish}$/", "language": "JavaScript", "kind": "field", "scope": "Booking.onClick", "scopeKind": "class"}, {"_type": "tag", "name": "people", "path": "/home/kavia/workspace/code-generation/tripplanner-179303-179312/frontend_web_app/src/components/Booking/Booking.jsx", "pattern": "/^              value={people}$/", "language": "JavaScript", "kind": "field", "scope": "Booking.value", "scopeKind": "class"}, {"_type": "tag", "name": "roomAvailability", "path": "/home/kavia/workspace/code-generation/tripplanner-179303-179312/frontend_web_app/src/components/Booking/Booking.jsx", "pattern": "/^            availability={roomAvailability}$/", "language": "JavaScript", "kind": "field", "scope": "Booking.availability", "scopeKind": "class"}, {"_type": "tag", "name": "roomCapacity", "path": "/home/kavia/workspace/code-generation/tripplanner-179303-179312/frontend_web_app/src/components/Booking/Booking.jsx", "pattern": "/^            capacity={roomCapacity}$/", "language": "JavaScript", "kind": "field", "scope": "Booking.capacity", "scopeKind": "class"}, {"_type": "tag", "name": "roomCapacity", "path": "/home/kavia/workspace/code-generation/tripplanner-179303-179312/frontend_web_app/src/components/Booking/Booking.jsx", "pattern": "/^  const roomCapacity = { standard: 2, deluxe: 3, suite: 4 };$/", "language": "JavaScript", "kind": "class", "scope": "Booking", "scopeKind": "class"}, {"_type": "tag", "name": "roomPricing", "path": "/home/kavia/workspace/code-generation/tripplanner-179303-179312/frontend_web_app/src/components/Booking/Booking.jsx", "pattern": "/^            pricing={roomPricing}$/", "language": "JavaScript", "kind": "field", "scope": "Booking.pricing", "scopeKind": "class"}, {"_type": "tag", "name": "roomType", "path": "/home/kavia/workspace/code-generation/tripplanner-179303-179312/frontend_web_app/src/components/Booking/Booking.jsx", "pattern": "/^            selected={roomType}$/", "language": "JavaScript", "kind": "field", "scope": "Booking.selected", "scopeKind": "class"}, {"_type": "tag", "name": "setMealPlan", "path": "/home/kavia/workspace/code-generation/tripplanner-179303-179312/frontend_web_app/src/components/Booking/Booking.jsx", "pattern": "/^            onChange={setMealPlan}$/", "language": "JavaScript", "kind": "field", "scope": "Booking.onChange", "scopeKind": "class"}, {"_type": "tag", "name": "setRoomType", "path": "/home/kavia/workspace/code-generation/tripplanner-179303-179312/frontend_web_app/src/components/Booking/Booking.jsx", "pattern": "/^            onSelect={setRoomType}$/", "language": "JavaScript", "kind": "field", "scope": "Booking.onSelect", "scopeKind": "class"}, {"_type": "tag", "name": "standard", "path": "/home/kavia/workspace/code-generation/tripplanner-179303-179312/frontend_web_app/src/components/Booking/Booking.jsx", "pattern": "/^  const roomCapacity = { standard: 2, deluxe: 3, suite: 4 };$/", "language": "JavaScript", "kind": "property", "scope": "Booking.roomCapacity", "scopeKind": "class"}, {"_type": "tag", "name": "suite", "path": "/home/kavia/workspace/code-generation/tripplanner-179303-179312/frontend_web_app/src/components/Booking/Booking.jsx", "pattern": "/^  const roomCapacity = { standard: 2, deluxe: 3, suite: 4 };$/", "language": "JavaScript", "kind": "property", "scope": "Booking.roomCapacity", "scopeKind": "class"}], "hash": "e58ba72ecc9f7c072fe531937f0bf695", "format-version": 4, "code-base-name": "frontend_web_app", "filename": "frontend_web_app/src/components/Booking/Booking.jsx", "fields": [{"name": "min={1}", "scope": "Booking.min", "scopeKind": "class", "description": "unavailable"}, {"name": "max={8}", "scope": "Booking.max", "scopeKind": "class", "description": "unavailable"}, {"name": "const mealPricing = { breakfast: 12, lunch: 18, dinner: 26 };", "scope": "Booking.mealPricing", "scopeKind": "class", "description": "unavailable"}, {"name": "const roomCapacity = { standard: 2, deluxe: 3, suite: 4 };", "scope": "Booking.roomCapacity", "scopeKind": "class", "description": "unavailable"}, {"name": "aria-disabled={hasErrors}", "scope": "Booking.aria", "scopeKind": "class", "description": "unavailable"}, {"name": "disabled={hasErrors}", "scope": "Booking.disabled", "scopeKind": "class", "description": "unavailable"}, {"name": "title={hasErrors ? 'Fix errors before finishing' : 'Finish and return to Planner'}", "scope": "Booking.title", "scopeKind": "class", "description": "unavailable"}, {"name": "value={mealPlan}", "scope": "Booking.value", "scopeKind": "class", "description": "unavailable"}, {"name": "pricing={mealPricing}", "scope": "Booking.pricing", "scopeKind": "class", "description": "unavailable"}, {"name": "value={nights}", "scope": "Booking.value", "scopeKind": "class", "description": "unavailable"}, {"name": "onClick={onFinish}", "scope": "Booking.onClick", "scopeKind": "class", "description": "unavailable"}, {"name": "value={people}", "scope": "Booking.value", "scopeKind": "class", "description": "unavailable"}, {"name": "availability={roomAvailability}", "scope": "Booking.availability", "scopeKind": "class", "description": "unavailable"}, {"name": "capacity={roomCapacity}", "scope": "Booking.capacity", "scopeKind": "class", "description": "unavailable"}, {"name": "pricing={roomPricing}", "scope": "Booking.pricing", "scopeKind": "class", "description": "unavailable"}, {"name": "selected={roomType}", "scope": "Booking.selected", "scopeKind": "class", "description": "unavailable"}, {"name": "onChange={setMealPlan}", "scope": "Booking.onChange", "scopeKind": "class", "description": "unavailable"}, {"name": "onSelect={setRoomType}", "scope": "Booking.onSelect", "scopeKind": "class", "description": "unavailable"}]}